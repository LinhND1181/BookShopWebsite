<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
	<meta charset="utf-8" />
	<meta content="IE=edge" http-equiv="X-UA-Compatible" />
	<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" />
	<meta content="" name="description" />
	<meta content="" name="author" />
	<title>Admin - Sản Phẩm</title>
	<link th:href="@{/css/admin/styles.css}" rel="stylesheet" />
	<script crossorigin="anonymous" th:src="@{/js/admin/fontawesome-all.js}"></script>
</head>

<body>
	<!-- Copy tu day-->
	<div th:replace="admin/fragments/header :: header_nav"></div>
	<div id="layoutSidenav">
		<div th:replace="admin/fragments/side_navbar :: side_navbar"></div>
		<!-- Copy den day-->
		<div id="layoutSidenav_content">
			<main>
				<div class="container-fluid px-4">
					<ol class="breadcrumb mb-4 mt-5">
						<li class="breadcrumb-item">
							<a th:href="@{/admin/home}">Dashboard</a>
						</li>
						<li class="breadcrumb-item active">Sản Phẩm</li>
					</ol>

					<!-- Chỗ cần thay đổi -->
					<div class="container mt-5">
						<h1>Danh sách sản phẩm</h1>
						<a class="btn btn-primary mb-3" th:href="@{/admin/books_management/add}">Thêm sản phẩm</a>

						<form th:action="@{/admin/books_management}" th:method="get" class="mb-5">
							<div class="row">
								<div class="col-md-4">
									<div class="form-group">
										<label for="categoryId">Tìm theo danh mục:</label>
										<select id="categoryId" class="form-select" name="categoryId">
											<option value="" selected>Tất cả danh mục</option>
											<option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}"></option>
										</select>
									</div>
								</div>
								<div class="col-md-4">
									<div class="form-group">
										<label for="keyword">Từ khoá:</label>
										<input id="keyword" type="text" class="form-control" name="keyword" placeholder="Nhập từ khoá tìm kiếm" />
									</div>
								</div>
								<div class="col-md-4">
									<div class="form-group">
										<label>&nbsp;</label>
										<button type="submit" class="btn mt-4 btn-primary">Tìm kiếm</button>
									</div>
								</div>
							</div>
						</form>

						<table class="table table-striped table-hover table-bordered">
							<thead>
								<tr>
									<th>ID</th>
									<th>Tên sách</th>
									<th>Tác giả</th>
									<th>Nhà xuất bản</th>
									<th>Ngày xuất bản</th>
									<th>Giá gốc</th>
									<th>Giá sale</th>
									<th>Số lượng</th>
									<th>Số trang</th>
									<th>Ảnh bìa</th>
									<th></th>
								</tr>
							</thead>
							<tbody id="userlist">
								<tr th:each="book : ${bookPage.content}">
									<td th:text="${book.id}"></td>
									<td>Sách thể thao</td>
									<td>Nguyễn Văn A</td>
									<td>Nhà XB A</td>
									<td>20/3/2023</td>
									<td>50.000</td>
									<td>12.000</td>
									<td>300</td>
									<td>100</td>
									<td><img class="bookImage"
											src="https://cdn.sachmem.vn/public//bookcovers2/TA3GSSHST2-teacher.jpg"
											style="max-width: 100px;"></td>
									<td style="width: 12rem;">
										<a class="btn btn-primary btn-sm" th:href="@{'/admin/add-or-update-book'}"
											type="button">Cập
											nhật</a>
										<a class="btn btn-danger btn-sm" type="button">Xóa</a>
									</td>
								</tr>

							</tbody>
						</table>
						<!-- Hiển thị các phân trang -->
						<div th:if="${bookPage.totalPages > 1}">
							<ul class="pagination">
								<li th:classappend="${page == 1} ? disabled">
									<a th:href="@{/admin/books(page=1, size=${size})}" aria-label="First">
										<span aria-hidden="true">&laquo;&laquo;</span>
									</a>
								</li>
								<li th:classappend="${page == 1} ? disabled">
									<a th:href="@{/admin/books(page=${page - 1}, size=${size})}" aria-label="Previous">
										<span aria-hidden="true">&laquo;</span>
									</a>
								</li>
								<li th:each="pageNumber : ${#numbers.sequence(1, bookPage.totalPages)}" th:classappend="${page == pageNumber} ? active">
									<a th:href="@{/admin/books(page=${pageNumber}, size=${size})}" th:text="${pageNumber}"></a>
								</li>
								<li th:classappend="${page == bookPage.totalPages} ? disabled">
									<a th:href="@{/admin/books(page=${page + 1}, size=${size})}" aria-label="Next">
										<span aria-hidden="true">&raquo;</span>
									</a>
								</li>
								<li th:classappend="${page == bookPage.totalPages} ? disabled">
									<a th:href="@{/admin/books(page=${bookPage.totalPages}, size=${size})}" aria-label="Last">
										<span aria-hidden="true">&raquo;&raquo;</span>
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</main>
			<div th:replace="admin/fragments/footer :: footer"></div>
		</div>
	</div>

	<script crossorigin="anonymous" th:src="@{/js/admin/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/js/admin/scripts.js}"></script>
	<script th:src="@{/js/admin/contacts.js}"></script>
</body>

</html>